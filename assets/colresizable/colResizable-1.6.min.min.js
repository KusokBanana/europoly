(function(W){var e=W(document);var E=W("head");var F=null;var Q={};var U=0;var P="id";var R="px";var T="JColResizer";var Y="JCLRFlex";var O=parseInt;var S=Math;var N=navigator.userAgent.indexOf("Trident/4.0")>0;var V;try{V=sessionStorage}catch(h){}E.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer > tbody > tr > td, .JColResizer > tbody > tr > th{overflow:hidden;padding-left:0!important; padding-right:0!important;}  .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: e-resize;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;	} .JCLRFlex{width:auto!important;} .JCLRgrip.JCLRdisabledGrip .JColResizer{cursor:default; display:none;}</style>");var G=function(f,c){var a=W(f);a.opt=c;a.mode=c.resizeMode;a.dc=a.opt.disabledColumns;if(a.opt.disable){return J(a)}var b=a.id=a.attr(P)||T+U++;a.p=a.opt.postbackSafe;if(!a.is("table")||Q[b]&&!a.opt.partialRefresh){return}if(a.opt.hoverCursor!=="e-resize"){E.append("<style type='text/css'>.JCLRgrip .JColResizer:hover{cursor:"+a.opt.hoverCursor+"!important}</style>")}a.addClass(T).attr(P,b).before('<div class="JCLRgrips"/>');a.g=[];a.c=[];a.w=a.width();a.gc=a.prev();a.f=a.opt.fixed;if(c.marginLeft){a.gc.css("marginLeft",c.marginLeft)}if(c.marginRight){a.gc.css("marginRight",c.marginRight)}a.cs=O(N?f.cellSpacing||f.currentStyle.borderSpacing:a.css("border-spacing"))||2;a.b=O(N?f.border||f.currentStyle.borderLeftWidth:a.css("border-left-width"))||1;Q[b]=a;L(a)};var J=function(b){var a=b.attr(P),b=Q[a];if(!b||!b.is("table")){return}b.removeClass(T+" "+Y).gc.remove();delete Q[a]};var L=function(b){var a=b.find(">thead>tr:first>th,>thead>tr:first>td");if(!a.length){a=b.find(">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td")}a=a.filter(":visible");b.cg=b.find("col");b.ln=a.length;if(b.p&&V&&V[b.id]){Z(b,a)}a.each(function(i){var f=W(this);var c=b.dc.indexOf(i)!=-1;var g=W(b.gc.append('<div class="JCLRgrip"></div>')[0].lastChild);g.append(c?"":b.opt.gripInnerHtml).append('<div class="'+T+'"></div>');if(i==b.ln-1){g.addClass("JCLRLastGrip");if(b.f){g.html("")}}g.bind("touchstart mousedown",d);if(!c){g.removeClass("JCLRdisabledGrip").bind("touchstart mousedown",d)}else{g.addClass("JCLRdisabledGrip")}g.t=b;g.i=i;g.c=f;f.w=f.width();b.g.push(g);b.c.push(f);f.width(f.w).removeAttr("width");g.data(T,{i:i,t:b.attr(P),last:i==b.ln-1})});b.cg.removeAttr("width");b.find("td, th").not(a).not("table th, table td").each(function(){W(this).removeAttr("width")});if(!b.f){b.removeAttr("width").addClass(Y)}H(b)};var Z=function(c,b){var a,i=0,f=0,j=[],g;if(b){c.cg.removeAttr("width");if(c.opt.flush){V[c.id]="";return}a=V[c.id].split(";");g=a[c.ln+1];if(!c.f&&g){c.width(g*=1);if(c.opt.overflow){c.css("min-width",g+R);c.w=g}}for(;f<c.ln;f++){j.push(100*a[f]/a[c.ln]+"%");b.eq(f).css("width",j[f])}for(f=0;f<c.ln;f++){c.cg.eq(f).css("width",j[f])}}else{V[c.id]="";for(;f<c.c.length;f++){a=c.c[f].width();V[c.id]+=a+";";i+=a}V[c.id]+=i;if(!c.f){V[c.id]+=";"+c.width()}}};var H=function(b){b.gc.width(b.w);for(var c=0;c<b.ln;c++){var a=b.c[c];b.g[c].css({left:a.offset().left-b.offset().left+a.outerWidth(false)+b.cs/2+R,height:b.opt.headerOnly?b.c[0].outerHeight(false):b.outerHeight(false)})}};var K=function(g,j,c){var f=F.x-F.l,a=g.c[j],b=g.c[j+1];var i=a.w+f;var k=b.w-f;a.width(i+R);g.cg.eq(j).width(i+R);if(g.f){b.width(k+R);g.cg.eq(j+1).width(k+R)}else{if(g.opt.overflow){g.css("min-width",g.w+f)}}if(c){a.w=i;b.w=g.f?k:b.w}};var D=function(a){var b=W.map(a.c,function(c){return c.width()});a.width(a.w=a.width()).removeClass(Y);W.each(a.c,function(c,f){f.width(b[c]).w=b[c]});a.addClass(Y)};var M=function(n){if(!F){return}var f=F.t;var c=n.originalEvent.touches;var g=c?c[0].pageX:n.pageX;var k=g-F.ox+F.l;var i=f.opt.minWidth,o=F.i;var a=f.cs*1.5+i+f.b;var j=o==f.ln-1;var p=o?f.g[o-1].position().left+f.cs+i:a;var l=f.f?o==f.ln-1?f.w-a:f.g[o+1].position().left-f.cs-i:Infinity;k=S.max(p,S.min(l,k));F.x=k;F.css("left",k+R);if(j){var m=f.c[F.i];F.w=m.w+k-F.l}if(f.opt.liveDrag){if(j){m.width(F.w);if(!f.f&&f.opt.overflow){f.css("min-width",f.w+k-F.l)}else{f.w=f.width()}}else{K(f,o)}H(f);var b=f.opt.onDrag;if(b){n.currentTarget=f[0];b(n)}}return false};var I=function(c){e.unbind("touchend."+T+" mouseup."+T).unbind("touchmove."+T+" mousemove."+T);W("head :last-child").remove();if(!F){return}F.removeClass(F.t.opt.draggingClass);if(!(F.x-F.l==0)){var g=F.t;var i=g.opt.onResize;var b=F.i;var f=b==g.ln-1;var a=g.g[b].c;if(f){a.width(F.w);a.w=F.w}else{K(g,b,true)}if(!g.f){D(g)}H(g);if(i){c.currentTarget=g[0];i(c)}if(g.p&&V){Z(g)}}F=null};var d=function(g){var f=W(this).data(T);var c=Q[f.t],i=c.g[f.i];var a=g.originalEvent.touches;i.ox=a?a[0].pageX:g.pageX;i.l=i.position().left;i.x=i.l;e.bind("touchmove."+T+" mousemove."+T,M).bind("touchend."+T+" mouseup."+T,I);E.append("<style type='text/css'>*{cursor:"+c.opt.dragCursor+"!important}</style>");i.addClass(c.opt.draggingClass);F=i;if(c.c[f.i].l){for(var j=0,b;j<c.ln;j++){b=c.c[j];b.l=false;b.w=b.width()}}return false};var X=function(){for(var b in Q){if(Q.hasOwnProperty(b)){b=Q[b];var c,a=0;b.removeClass(T);if(b.f){b.w=b.width();for(c=0;c<b.ln;c++){a+=b.c[c].w}for(c=0;c<b.ln;c++){b.c[c].css("width",S.round(1000*b.c[c].w/a)/10+"%").l=true}}else{D(b);if(b.mode=="flex"&&b.p&&V){Z(b)}}H(b.addClass(T))}}};W(window).bind("resize."+T,X);W.fn.extend({colResizable:function(b){var a={resizeMode:"fit",draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:false,minWidth:15,headerOnly:false,hoverCursor:"e-resize",dragCursor:"e-resize",postbackSafe:false,flush:false,marginLeft:null,marginRight:null,disable:false,partialRefresh:false,disabledColumns:[],onDrag:null,onResize:null};var b=W.extend(a,b);b.fixed=true;b.overflow=false;switch(b.resizeMode){case"flex":b.fixed=false;break;case"overflow":b.fixed=false;b.overflow=true;break}return this.each(function(){G(this,b)})}})})(jQuery);